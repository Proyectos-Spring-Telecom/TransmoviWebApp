<div class="login-wrapper">
  <div class="login-card">
    <img src="./assets/images/arte/Logo_QMT_Square_final.png" alt="Logo QMT" class="logo-header" />
    <h2>Cambio de Contraseña</h2>

    <form [formGroup]="signupForm" (ngSubmit)="agregar()">
      <div class="input-group">
        <label for="userName">Correo Electrónico</label>
        <input id="userName" type="email" formControlName="userName" placeholder="Email" />
      </div>
      <div class="input-group">
        <label for="password">Contraseña Nueva</label>
        <input id="password" [type]="type" formControlName="password" placeholder="Contraseña" />
        <span *ngIf="type === 'password'" class="eyeButton" (click)="myFunctionPasswordCurrent()">
          <i class="fas fa-eye"></i>
        </span>
        <span *ngIf="type === 'text'" class="eyeButton" (click)="myFunctionPasswordCurrent()">
          <i class="fas fa-eye-slash"></i>
        </span>
        <div *ngIf="showPwHint" class="pw-hint" [class.ok]="pwAllOk" [class.bad]="!pwAllOk" [@fadeOnChange]="pwGuideKey"
          [@fadeInOut] aria-live="polite">
          <i class="fa" [ngClass]="pwAllOk ? 'fa-check-circle' : 'fa-exclamation-circle'"></i>
          {{ pwGuideText }}
        </div>
      </div>
      <div class="input-group">
        <label for="confirmPassword">Confirmar Contraseña</label>
        <input id="confirmPassword" [type]="type" formControlName="confirmPassword"
          placeholder="Confirmar contraseña" />
        <div *ngIf="showMatchHint" class="match-hint" [class.ok]="passwordsMatch" [class.bad]="!passwordsMatch"
          [@fadeOnChange]="matchKey" [@fadeInOut] aria-live="polite">
          <i class="fa" [ngClass]="passwordsMatch ? 'fa-check-circle' : 'fa-exclamation-circle'"></i>
          {{ matchText }}
        </div>
      </div>
      <div class="extra-links">
        <a [routerLink]="['/account','login']">Iniciar Sesión</a>
      </div>
      <button class="login-btn" type="submit" [disabled]="signupForm.invalid || !pwAllOk || !passwordsMatch || loading"
        style="width: 100%; display: flex; align-items: center; justify-content: center;">
        <div class="justigy">
          <span [@fadeInOut] *ngIf="loading" class="loader"></span>
          <span *ngIf="!loading">Guardar</span>
          <span style="margin-left: 5px;" *ngIf="loading">Cargando...</span>
        </div>
      </button>
    </form>
  </div>
</div>